<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>oscl_double_list.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; </center>
<hr><h1>oscl_double_list.h</h1><a href="oscl__double__list_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00010 <span class="preprocessor">#ifndef OSCL_DOUBLE_LIST_H_INCLUDED</span>
00011 <span class="preprocessor"></span><span class="preprocessor">#define OSCL_DOUBLE_LIST_H_INCLUDED</span>
00012 <span class="preprocessor"></span>
00013 <span class="preprocessor">#ifndef OSCLCONFIG_PROC_H_INCLUDED</span>
00014 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="osclconfig__proc_8h.html">osclconfig_proc.h</a>"</span>
00015 <span class="preprocessor">#endif</span>
00016 <span class="preprocessor"></span>
00017 
00018 <span class="preprocessor">#ifndef OSCL_BASE_H_INCLUDED</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="oscl__base_8h.html">oscl_base.h</a>"</span>
00020 <span class="preprocessor">#endif</span>
00021 <span class="preprocessor"></span>
00022 <span class="preprocessor">#ifndef OSCL_ASSERT_H_INCLUDED</span>
00023 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="oscl__assert_8h.html">oscl_assert.h</a>"</span>
00024 <span class="preprocessor">#endif</span>
00025 <span class="preprocessor"></span>
00026 
00027 <span class="comment">//OsclDoubleList and OsclPriorityList are used in the internal scheduler implementation.</span>
00028 <span class="comment">//All the IMPORT_C was removed so they're not available as</span>
00029 <span class="comment">//public APIs.</span>
00030 
00031 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S&gt;
<a name="l00032"></a><a class="code" href="group__osclproc.html#a5">00032</a> <span class="keyword">inline</span> T* <a class="code" href="group__osclproc.html#a5">OsclPtrAdd</a>(T* aPtr, S aVal)
00033 {
00034     <span class="keywordflow">return</span>((T*)(((uint8*)aPtr) + aVal));
00035 }
00036 
00037 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> S&gt;
<a name="l00038"></a><a class="code" href="group__osclproc.html#a6">00038</a> <span class="keyword">inline</span> T* <a class="code" href="group__osclproc.html#a6">OsclPtrSub</a>(T* aPtr, S aVal)
00039 {
00040     <span class="keywordflow">return</span>((T*)(((uint8*)aPtr) - aVal));
00041 }
00042 
<a name="l00043"></a><a class="code" href="classOsclDoubleLink.html">00043</a> <span class="keyword">class </span><a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>
00044 {
00045     <span class="keyword">public</span>:
<a name="l00046"></a><a class="code" href="classOsclDoubleLink.html#a0">00046</a>         <a class="code" href="classOsclDoubleLink.html#a0">OsclDoubleLink</a>() : <a class="code" href="classOsclDoubleLink.html#m0">iNext</a>(<a class="code" href="group__osclbase.html#a81">NULL</a>) {}
00047         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleLink.html#a1">Remove</a>();
00048         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleLink.html#a2">InsertAfter</a>(<a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>* aLink);
00049         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleLink.html#a3">InsertBefore</a>(<a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>* aLink);
00050     <span class="keyword">public</span>:
<a name="l00051"></a><a class="code" href="classOsclDoubleLink.html#m0">00051</a>         <a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>* <a class="code" href="classOsclDoubleLink.html#m0">iNext</a>;
<a name="l00052"></a><a class="code" href="classOsclDoubleLink.html#m1">00052</a>         <a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>* <a class="code" href="classOsclDoubleLink.html#m1">iPrev</a>;
00053 };
00054 
00055 
00056 <span class="keyword">class </span><a class="code" href="classOsclReadyQ.html">OsclReadyQ</a>;
<a name="l00057"></a><a class="code" href="classOsclPriorityLink.html">00057</a> <span class="keyword">class </span><a class="code" href="classOsclPriorityLink.html">OsclPriorityLink</a> : <span class="keyword">public</span> <a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>
00058 {
00059     <span class="keyword">public</span>:
<a name="l00060"></a><a class="code" href="classOsclPriorityLink.html#m0">00060</a>         int32 <a class="code" href="classOsclPriorityLink.html#m0">iPriority</a>;
00061 };
00062 
<a name="l00063"></a><a class="code" href="classOsclDoubleListBase.html">00063</a> <span class="keyword">class </span><a class="code" href="classOsclDoubleListBase.html">OsclDoubleListBase</a>
00064 {
00065     <span class="keyword">public</span>:
00066         <span class="keywordtype">bool</span> <a class="code" href="classOsclDoubleListBase.html#a0">IsEmpty</a>() <span class="keyword">const</span>;
00067         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleListBase.html#a1">SetOffset</a>(int32 anOffset);
00068         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleListBase.html#a2">Reset</a>();
<a name="l00069"></a><a class="code" href="classOsclDoubleListBase.html#a3">00069</a>         <a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>* <a class="code" href="classOsclDoubleListBase.html#a3">getHead</a>()
00070         {
00071             <span class="keywordflow">return</span> &amp;<a class="code" href="classOsclDoubleListBase.html#n0">iHead</a>;
00072         }
<a name="l00073"></a><a class="code" href="classOsclDoubleListBase.html#a4">00073</a>         int32 <a class="code" href="classOsclDoubleListBase.html#a4">getOffset</a>()
00074         {
00075             <span class="keywordflow">return</span> <a class="code" href="classOsclDoubleListBase.html#n1">iOffset</a>;
00076         }
00077     <span class="keyword">protected</span>:
00078         <a class="code" href="classOsclDoubleListBase.html#b0">OsclDoubleListBase</a>();
00079         <a class="code" href="classOsclDoubleListBase.html#b0">OsclDoubleListBase</a>(int32 anOffset);
00080         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleListBase.html#b2">InsertHead</a>(<a class="code" href="group__osclbase.html#a25">OsclAny</a>* aPtr);
00081         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleListBase.html#b3">InsertTail</a>(<a class="code" href="group__osclbase.html#a25">OsclAny</a>* aPtr);
00082         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleListBase.html#b4">Insert</a>(<a class="code" href="group__osclbase.html#a25">OsclAny</a>* aPtr);
00083     <span class="keyword">protected</span>:
<a name="l00084"></a><a class="code" href="classOsclDoubleListBase.html#n0">00084</a>         <a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a> <a class="code" href="classOsclDoubleListBase.html#n0">iHead</a>;
<a name="l00085"></a><a class="code" href="classOsclDoubleListBase.html#n1">00085</a>         int32 <a class="code" href="classOsclDoubleListBase.html#n1">iOffset</a>;
00086     <span class="keyword">private</span>:
00087         <a class="code" href="classOsclDoubleListBase.html#b0">OsclDoubleListBase</a>(<span class="keyword">const</span> <a class="code" href="classOsclDoubleListBase.html">OsclDoubleListBase</a>&amp; aList);
00088         <a class="code" href="classOsclDoubleListBase.html">OsclDoubleListBase</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classOsclDoubleListBase.html">OsclDoubleListBase</a>&amp; aList);
00089 };
00090 
00091 
00092 
00093 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00094"></a><a class="code" href="classOsclDoubleList.html">00094</a> <span class="keyword">class </span><a class="code" href="classOsclDoubleList.html">OsclDoubleList</a> : <span class="keyword">public</span> <a class="code" href="classOsclDoubleListBase.html">OsclDoubleListBase</a>
00095 {
00096     <span class="keyword">public</span>:
00097         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <a class="code" href="classOsclDoubleList.html#a0">OsclDoubleList</a>();
00098         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <a class="code" href="classOsclDoubleList.html#a0">OsclDoubleList</a>(int32 anOffset);
00099         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleList.html#a2">InsertHead</a>(T&amp; aRef);
00100         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleList.html#a3">InsertTail</a>(T&amp; aRef);
00101         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classOsclDoubleList.html#a4">IsHead</a>(<span class="keyword">const</span> T* aPtr) <span class="keyword">const</span>;
00102         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classOsclDoubleList.html#a5">IsTail</a>(<span class="keyword">const</span> T* aPtr) <span class="keyword">const</span>;
00103         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> T* <a class="code" href="classOsclDoubleList.html#a6">Head</a>() <span class="keyword">const</span>;
00104         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> T* <a class="code" href="classOsclDoubleList.html#a7">Tail</a>() <span class="keyword">const</span>;
00105 };
00106 
00107 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00108"></a><a class="code" href="classOsclPriorityList.html">00108</a> <span class="keyword">class </span><a class="code" href="classOsclPriorityList.html">OsclPriorityList</a> : <span class="keyword">public</span> <a class="code" href="classOsclDoubleListBase.html">OsclDoubleListBase</a>
00109 {
00110     <span class="keyword">public</span>:
00111         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <a class="code" href="classOsclPriorityList.html#a0">OsclPriorityList</a>();
00112         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <a class="code" href="classOsclPriorityList.html#a0">OsclPriorityList</a>(int32 anOffset);
00113         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classOsclPriorityList.html#a2">Insert</a>(T&amp; aRef);
00114         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classOsclPriorityList.html#a3">IsHead</a>(<span class="keyword">const</span> T* aPtr) <span class="keyword">const</span>;
00115         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classOsclPriorityList.html#a4">IsTail</a>(<span class="keyword">const</span> T* aPtr) <span class="keyword">const</span>;
00116         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> T* <a class="code" href="classOsclPriorityList.html#a5">Head</a>() <span class="keyword">const</span>;
00117         <a class="code" href="group__osclbase.html#a82">OSCL_INLINE</a> T* <a class="code" href="classOsclPriorityList.html#a6">Tail</a>() <span class="keyword">const</span>;
00118 };
00119 
00120 <span class="comment">//</span>
00121 <span class="keyword">class </span><a class="code" href="classOsclDoubleListBase.html">OsclDoubleListBase</a>;
00122 
00123 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00124"></a><a class="code" href="classOsclDoubleRunner.html">00124</a> <span class="keyword">class </span><a class="code" href="classOsclDoubleRunner.html">OsclDoubleRunner</a>
00125 {
00126     <span class="keyword">public</span>:
<a name="l00127"></a><a class="code" href="classOsclDoubleRunner.html#a0">00127</a>         <a class="code" href="classOsclDoubleRunner.html#a0">OsclDoubleRunner</a>(<a class="code" href="classOsclDoubleListBase.html">OsclDoubleListBase</a>&amp; aQue)
00128         {
00129             <span class="comment">//save the queue information.</span>
00130             <a class="code" href="classOsclDoubleRunner.html#n0">iOffset</a> = aQue.<a class="code" href="classOsclDoubleListBase.html#a4">getOffset</a>();
00131             <a class="code" href="classOsclDoubleRunner.html#n1">iHead</a> = aQue.<a class="code" href="classOsclDoubleListBase.html#a3">getHead</a>();
00132             <a class="code" href="classOsclDoubleRunner.html#n2">iNext</a> = <a class="code" href="group__osclbase.html#a81">NULL</a>;
00133         }
00134 
<a name="l00135"></a><a class="code" href="classOsclDoubleRunner.html#a1">00135</a>         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleRunner.html#a1">Set</a>(T&amp; aLink)
00136         {
00137             <a class="code" href="classOsclDoubleRunner.html#n2">iNext</a> = (<a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>*)<a class="code" href="group__osclproc.html#a5">OsclPtrAdd</a>(aLink, <a class="code" href="classOsclDoubleRunner.html#n0">iOffset</a>);
00138         }
00139 
00140         <span class="comment">//This was inline but ADS 1.2 compiler gets a link error from it...</span>
<a name="l00141"></a><a class="code" href="classOsclDoubleRunner.html#a2">00141</a>         <a class="code" href="classOsclDoubleRunner.html#a2">operator T*</a>()
00142         {
00143             <span class="keywordflow">if</span> (iNext)
00144                 <span class="keywordflow">return</span> ((T *)<a class="code" href="group__osclproc.html#a6">OsclPtrSub</a>(<a class="code" href="classOsclDoubleRunner.html#n2">iNext</a>, <a class="code" href="classOsclDoubleRunner.html#n0">iOffset</a>));
00145             <span class="keywordflow">return</span> <a class="code" href="group__osclbase.html#a81">NULL</a>;
00146         }
00147 
<a name="l00148"></a><a class="code" href="classOsclDoubleRunner.html#a3">00148</a>         T* <a class="code" href="classOsclDoubleRunner.html#a3">operator++</a>(<span class="keywordtype">int</span>)
00149         {
00150             <span class="comment">//get current.</span>
00151             <a class="code" href="group__osclbase.html#a25">OsclAny</a>* p = <a class="code" href="group__osclbase.html#a81">NULL</a>;
00152             <span class="keywordflow">if</span> (iNext)
00153                 p = ((<a class="code" href="group__osclbase.html#a25">OsclAny</a> *)<a class="code" href="group__osclproc.html#a6">OsclPtrSub</a>(<a class="code" href="classOsclDoubleRunner.html#n2">iNext</a>, <a class="code" href="classOsclDoubleRunner.html#n0">iOffset</a>));
00154 
00155             <span class="comment">//advance.</span>
00156             <span class="keywordflow">if</span> (iNext)
00157                 <a class="code" href="classOsclDoubleRunner.html#n2">iNext</a> = <a class="code" href="classOsclDoubleRunner.html#n2">iNext</a>-&gt;<a class="code" href="classOsclDoubleLink.html#m0">iNext</a>;
00158             <span class="comment">//return current.</span>
00159             <span class="keywordflow">return</span> ((T *)p);
00160         }
00161 
00162         T* <a class="code" href="classOsclDoubleRunner.html#a4">operator--</a>(<span class="keywordtype">int</span>);
00163 
00164     <span class="keyword">public</span>:
<a name="l00165"></a><a class="code" href="classOsclDoubleRunner.html#a5">00165</a>         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleRunner.html#a5">SetToHead</a>()
00166         {
00167             <a class="code" href="classOsclDoubleRunner.html#n2">iNext</a> = <a class="code" href="classOsclDoubleRunner.html#n1">iHead</a>-&gt;<a class="code" href="classOsclDoubleLink.html#m0">iNext</a>;
00168         }
<a name="l00169"></a><a class="code" href="classOsclDoubleRunner.html#a6">00169</a>         <span class="keywordtype">void</span> <a class="code" href="classOsclDoubleRunner.html#a6">SetToTail</a>()
00170         {
00171             <a class="code" href="classOsclDoubleRunner.html#n2">iNext</a> = <a class="code" href="classOsclDoubleRunner.html#n1">iHead</a>-&gt;<a class="code" href="classOsclDoubleLink.html#m1">iPrev</a>;
00172         }
00173     <span class="keyword">protected</span>:
<a name="l00174"></a><a class="code" href="classOsclDoubleRunner.html#n0">00174</a>         int32 <a class="code" href="classOsclDoubleRunner.html#n0">iOffset</a>;
<a name="l00175"></a><a class="code" href="classOsclDoubleRunner.html#n1">00175</a>         <a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>* <a class="code" href="classOsclDoubleRunner.html#n1">iHead</a>;
<a name="l00176"></a><a class="code" href="classOsclDoubleRunner.html#n2">00176</a>         <a class="code" href="classOsclDoubleLink.html">OsclDoubleLink</a>* <a class="code" href="classOsclDoubleRunner.html#n2">iNext</a>;
00177 };
00178 
00179 
00180 
00181 
00182 <span class="comment">//#if !(OSCL_DISABLE_INLINES)</span>
00183 <span class="preprocessor">#include "oscl_double_list.inl"</span>
00184 <span class="comment">//#endif</span>
00185 
00186 
00187 
00188 <span class="comment">//Some handy macros</span>
<a name="l00189"></a><a class="code" href="group__osclproc.html#a7">00189</a> <span class="preprocessor">#define QUE_ITER_BEGIN(_type,_qname)\</span>
00190 <span class="preprocessor">        if (!_qname.IsEmpty())\</span>
00191 <span class="preprocessor">        {\</span>
00192 <span class="preprocessor">                OsclDoubleRunner &lt;_type&gt; iter(_qname);\</span>
00193 <span class="preprocessor">                _type *item;\</span>
00194 <span class="preprocessor">                for (iter.SetToHead(); ;iter++)\</span>
00195 <span class="preprocessor">                {\</span>
00196 <span class="preprocessor">                        item=iter;\</span>
00197 <span class="preprocessor"> </span>
<a name="l00198"></a><a class="code" href="group__osclproc.html#a8">00198</a> <span class="preprocessor"></span><span class="preprocessor">#define QUE_ITER_END(_qname)\</span>
00199 <span class="preprocessor">                        if (_qname.IsTail(item))\</span>
00200 <span class="preprocessor">                                break;\</span>
00201 <span class="preprocessor">                }\</span>
00202 <span class="preprocessor">        }</span>
00203 <span class="preprocessor"></span>
00204 <span class="preprocessor">#endif</span>
00205 <span class="preprocessor"></span>
</pre></div><hr size="1"><img src="pvlogo_small.jpg"><address style="align: right;"><small>OSCL API</small>
<address style="align: left;"><small>Posting Version: OPENCORE_20090310 </small>
</small></address>
</body>
</html>
